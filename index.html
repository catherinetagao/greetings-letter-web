<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Mother's Day Greeting</title>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: #fffaf0;
        font-family: "Segoe UI", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      }

      #capture-wrapper {
        padding: 20px;
        background-color: #fffaf0;
        border-radius: 10px;
        max-width: 900px;
        width: 100%;
        box-sizing: border-box;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 40px;
      }

      .center-content {
        flex: 1 1 300px;
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #ffeef5;
        padding: 40px 30px;
        border-radius: 20px;
        box-shadow: 0 4px 12px rgba(255, 192, 203, 0.4);
        max-width: 400px;
        width: 100%;
        box-sizing: border-box;
      }

      .flower,
      .woman {
        width: 150px;
        height: auto;
        border-radius: 10px;
        flex-shrink: 0;
      }

      .input-box {
        padding: 12px 18px;
        border: 2px solid #fbc4d6;
        border-radius: 15px;
        background-color: #ffeef5;
        color: #e91e63;
        font-size: 16px;
        width: 100%;
        text-align: center;
        margin-bottom: 15px;
        box-shadow: 0 0 8px rgba(255, 192, 203, 0.3);
        box-sizing: border-box;
      }

      .input-box::placeholder {
        color: #e91e63;
        opacity: 0.7;
      }

      .submit-btn {
        padding: 10px 20px;
        border: none;
        border-radius: 10px;
        background-color: #f8accf;
        color: white;
        font-weight: bold;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        box-shadow: 0 4px 8px rgba(248, 172, 207, 0.5);
        width: 100%;
        max-width: 200px;
      }

      .submit-btn:hover {
        background-color: #f57bb1;
      }

      .message {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        font-size: 20px;
        color: #d6336c;
        font-weight: bold;
      }

      .message img {
        width: 100%;
        max-width: 200px;
        height: auto;
        margin-bottom: 20px;
        border-radius: 10px;
      }

      .message h1 {
        color: #d6336c;
        font-size: 24px;
        margin-bottom: 10px;
      }

      .message p {
        color: #b0004f;
        font-size: 18px;
        text-align: center;
        margin: 0;
      }

      #download-btn {
        margin-top: 20px;
      }

      .no-capture {
        display: block;
      }

      /* Hide elements in this class during image export */
      .capture-mode .no-capture {
        display: none !important;
      }

      /* Responsive for smaller screens */
      @media (max-width: 768px) {
        .container {
          flex-direction: column;
          align-items: center;
          text-align: center;
        }

        .flower,
        .woman {
          width: 120px;
        }

        .submit-btn {
          font-size: 14px;
        }

        .message h1 {
          font-size: 20px;
        }

        .message p {
          font-size: 16px;
        }
      }
    </style>
  </head>
  <body>
    <div id="capture-wrapper">
      <div class="container" id="capture">
        <img src="./flower.gif" class="flower" alt="Flower Left" />
        <div class="center-content" id="form-container">
          <input
            type="text"
            id="momName"
            class="input-box"
            placeholder="Type your name...."
          />
          <button class="submit-btn" onclick="showMessage()">Submit</button>
        </div>
        <img src="./read_woman.gif" class="woman" alt="Flower Right" />
      </div>
      <div class="no-capture" style="text-align: center; margin-top: 20px">
        <p>Step 1: Type your name.</p>
        <p>Step 2: Click "Submit".</p>
        <p>Step 3: Click "Download as Image".</p>
        <p>Step 4: Share</p>
        <button id="download-btn" class="submit-btn" onclick="downloadImage()">
          Download as Image
        </button>
      </div>
    </div>

    <script>
      function showMessage() {
        const name = document.getElementById("momName").value.trim();
        const container = document.getElementById("form-container");

        if (name) {
          container.innerHTML = `
            <div class="message">
             <img src="./naime.jpg" alt="Mother's Day" class="mother-pic" />
              <h1>Happy Mother's Day Mama<br>${name}!</h1>
              <p>We are so grateful that you are my mother.<br>Thank you for your love and support.</p>
            </div>
          `;
        } else {
          alert("Please enter a name.");
        }
      }

      //
      function downloadImage() {
        const body = document.body;
        body.classList.add("capture-mode"); // Add class to hide no-capture items

        html2canvas(document.querySelector("#capture-wrapper")).then(
          (canvas) => {
            const link = document.createElement("a");
            link.download = "mothers-day-message.png";
            link.href = canvas.toDataURL("image/png");
            link.click();

            body.classList.remove("capture-mode"); // Restore visibility after capture
          }
        );
      }
    </script>
  </body>
</html>
